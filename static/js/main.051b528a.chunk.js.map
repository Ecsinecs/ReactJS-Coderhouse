{"version":3,"sources":["components/CartContext.js","components/CartWidget.js","components/Navbar.js","components/ItemList.js","utils/firebaseConfig.js","components/ItemListContainer.js","components/CheckoutBtn.js","components/Counter.js","components/ItemDetail.js","components/ItemDetailContainer.js","components/Cart.js","App.js","index.js"],"names":["CartContext","createContext","CartContextProvider","_ref","children","_useState","useState","_useState2","Object","slicedToArray","cartList","setCartList","react_default","a","createElement","Provider","value","addItem","item","qty","itemQty","objectSpread","concat","toConsumableArray","removeItem","name","newArray","filter","clear","isInCart","undefined","find","sumQty","id","addedqty","product","calcTotalItems","map","reduce","previousValue","currentValue","priceTotalAll","price","singleTotal","prod","CartWidget","Cartctx","useContext","react_router_dom","to","className","index_es","icon","faCartShopping","Navbar","faLeaf","components_CartWidget","ItemList","Fragment","src","image","alt","categoryId","app","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","getFirestore","firestoreFetch","asyncToGenerator","_regeneratorRuntime","mark","_callee","category","q","querySnapshot","dataFromFS","wrap","_context","prev","next","query","collection","where","getDocs","sent","docs","doc","data","abrupt","stop","_x","apply","this","arguments","singleFetch","_ref2","_callee2","docRef","docSnap","singleData","_context2","getDoc","exists","console","log","_x2","ItemListContainer","products","setProducts","useParams","useEffect","then","result","length","components_ItemList","key","CheckoutBtn","Counter","_ref$max","max","_ref$initial","initial","whenAdd","counter","setCounter","onClick","disabled","ItemDetail","bought","setBought","desc","stock","components_CheckoutBtn","components_Counter","alert","ItemDetailContainer","dato","setDato","catch","err","components_ItemDetail","Cart","itemsBought","title","buyer","email","phone","date","serverTimestamp","items","Cart_regeneratorRuntime","newOrder","setDoc","createOrder","forEach","itemRef","updateDoc","increment","App","components_CartContext","components_Navbar","react_router","path","element","components_ItemListContainer","components_ItemDetailContainer","components_Cart","ReactDOM","createRoot","document","getElementById","render","src_App_0"],"mappings":"gRAGaA,EAAcC,0BAgFZC,EA9Ea,SAAAC,GAAkB,IAAfC,EAAeD,EAAfC,SAAeC,EACZC,mBAAS,IADGC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACrCK,EADqCH,EAAA,GAC3BI,EAD2BJ,EAAA,GA0D5C,OAEEK,EAAAC,EAAAC,cAACd,EAAYe,SAAb,CACEC,MAAO,CACLN,WACAO,QA5DU,SAACC,EAAMC,GACrB,IAAIC,EAAOZ,OAAAa,EAAA,EAAAb,CAAA,GACNU,EADM,CAETC,QAGFR,EAAW,GAAAW,OAAAd,OAAAe,EAAA,EAAAf,CAAKE,GAAL,CAAeU,MAuDtBI,WApDa,SAACC,GAClB,IAAIC,EAAWhB,EAASiB,OAAO,SAACT,GAAD,OAAUA,EAAKO,OAASA,IACvDd,EAAYe,IAmDRE,MAhDQ,WACZjB,EAAY,KAgDRkB,SA7CW,SAACJ,GAIhB,YAAgBK,IAHLpB,EAASqB,KAAK,SAACb,GACxB,OAAOA,EAAKO,OAASA,KA4CnBO,OAvCS,SAACC,EAAIC,GAClB,IAAIC,EAAUzB,EAASqB,KAAK,SAACb,GAC3B,OAAOA,EAAKe,KAAOA,IAErBE,EAAQhB,IAAMgB,EAAQhB,IAAMe,EAC5BvB,EAAYH,OAAAe,EAAA,EAAAf,CAAIE,KAmCZ0B,eAhCiB,WAErB,OADY1B,EAAS2B,IAAI,SAACnB,GAAD,OAAUA,EAAKC,MAC3BmB,OACX,SAACC,EAAeC,GAAhB,OAAiCD,EAAgBC,GACjD,IA6BEC,cAzBgB,WAEpB,OADe/B,EAAS2B,IAAI,SAACnB,GAAD,OAAUA,EAAKC,IAAMD,EAAKwB,QACtCJ,OACd,SAACC,EAAeC,GAAhB,OAAiCD,EAAgBC,GACjD,IAsBEG,YAlBc,SAACV,GACnB,IAAIW,EAAOlC,EAASqB,KAAK,SAACb,GAAD,OAAUe,IAAOf,EAAKe,KAE/C,OADYW,EAAKF,MAAQE,EAAKzB,OAmB3Bf,ICxDQyC,EAhBI,WACjB,IAAMC,EAAUC,qBAAW/C,GAE3B,OACEY,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,SACPrC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,gBACbtC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CACEC,KAAMC,IACNH,UAAU,kBAEZtC,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,mBAAmBJ,EAAQV,qBCcjCkB,EAxBA,WACX,OACI1C,EAAAC,EAAAC,cAAA,cACAF,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,UACbtC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,gBACbtC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CACEC,KAAMG,IACNL,UAAU,iBAEXtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,KAAIrC,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,iBAAd,iBAEhBtC,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,cACZtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,qBAAoBrC,EAAAC,EAAAC,cAAA,uBAC7BF,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,mBAAkBrC,EAAAC,EAAAC,cAAA,qBAC3BF,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,kBAAiBrC,EAAAC,EAAAC,cAAA,qBAE5BF,EAAAC,EAAAC,cAAC0C,EAAD,gBCAKC,EAnBE,SAAAtD,GAAc,IAAXe,EAAWf,EAAXe,KAClB,OACEN,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6C,SAAA,KACE9C,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,QACbtC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,YAAYS,IAAKzC,EAAK0C,MAAOC,IAAI,KAChDjD,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,cAAchC,EAAKO,MAChCb,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,aACdtC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,aACbtC,EAAAC,EAAAC,cAAA,oBAAYI,EAAKwB,MAAjB,KACA9B,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,kBAAkBhC,EAAK4C,aAEtClD,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAE,SAAA3B,OAAWJ,EAAKe,KACtBrB,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,aAAlB,wzMCFV,IAUMa,EAAMC,YAVW,CACrBC,OAAQ,0CACRC,WAAY,+BACZC,UAAW,eACXC,cAAe,2BACfC,kBAAmB,eACnBC,MAAO,8CAKIC,EAAKC,YAAaT,GAIlBU,EAAc,eAAAtE,EAAAK,OAAAkE,EAAA,EAAAlE,CAAAmE,IAAAC,KAAG,SAAAC,EAAOC,GAAP,IAAAC,EAAAC,EAAAC,EAAA,OAAAN,IAAAO,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAG1BN,EADED,EACEQ,YAAMC,YAAWhB,EAAI,aAAciB,YAAM,aAAc,KAAMV,IAE7DQ,YAAMC,YAAWhB,EAAI,cALCY,EAAAE,KAAA,EAOAI,YAAQV,GAPR,cAOtBC,EAPsBG,EAAAO,KAQtBT,EAAaD,EAAcW,KAAKtD,IAAI,SAACuD,GAAD,OAAApF,OAAAa,EAAA,EAAAb,CAAA,CAExCyB,GAAI2D,EAAI3D,IACL2D,EAAIC,UAXmBV,EAAAW,OAAA,SAarBb,GAbqB,wBAAAE,EAAAY,SAAAlB,MAAH,gBAAAmB,GAAA,OAAA7F,EAAA8F,MAAAC,KAAAC,YAAA,GAgBdC,EAAW,eAAAC,EAAA7F,OAAAkE,EAAA,EAAAlE,CAAAmE,IAAAC,KAAG,SAAA0B,EAAOrE,GAAP,IAAAsE,EAAAC,EAAAC,EAAA,OAAA9B,IAAAO,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cACnBkB,EAASX,YAAIrB,EAAI,YAAatC,GADXyE,EAAArB,KAAA,EAEHsB,YAAOJ,GAFJ,YAEnBC,EAFmBE,EAAAhB,MAIbkB,SAJa,CAAAF,EAAArB,KAAA,gBAKnBoB,EAAaD,EAAQX,QACd5D,GAAKuE,EAAQvE,GANDyE,EAAAZ,OAAA,SAOhBW,GAPgB,QAUvBI,QAAQC,IAAI,qBAVW,yBAAAJ,EAAAX,SAAAO,MAAH,gBAAAS,GAAA,OAAAV,EAAAJ,MAAAC,KAAAC,YAAA,GCfTa,EAxBW,WAAM,IAAA3G,EACEC,mBAAS,IADXC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACvB4G,EADuB1G,EAAA,GACb2G,EADa3G,EAAA,GAEtBuE,EAAaqC,cAAbrC,SAOR,OALAsC,oBAAU,WACRF,EAAY,IACZzC,EAAeK,GAAUuC,KAAK,SAACC,GAAD,OAAYJ,EAAYI,MACrD,CAACxC,IAGFlE,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,aACZ+D,EAASM,OAAS,EACjB3G,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,kBACZ+D,EAAS5E,IAAI,SAACnB,GAAD,OACZN,EAAAC,EAAAC,cAAC0G,EAAD,CAAUC,IAAKvG,EAAKe,GAAIf,KAAMA,OAIlCN,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,WAAd,iBCJOwE,EAdK,WAClB,OACE9G,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,SACPrC,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,sBAAlB,gBAEEtC,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CACEC,KAAMC,IACNH,UAAU,qBC2CLyE,EAnDC,SAAAxH,GAAuC,IAAAyH,EAAAzH,EAApC0H,WAAoC,IAAAD,EAA9B,EAA8BA,EAAAE,EAAA3H,EAA3B4H,eAA2B,IAAAD,EAAjB,EAAiBA,EAAdE,EAAc7H,EAAd6H,QAAc3H,EACvBC,mBAAS,GADcC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAC9C4H,EAD8C1H,EAAA,GACrC2H,EADqC3H,EAAA,GAGrD6G,oBAAU,WACRc,EAAWH,IACV,IAcH,OACEnH,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6C,SAAA,KACE9C,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,WACbtC,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,eAAeiF,QATrB,WACZF,EAAU,GACZC,EAAW,SAAC9C,GAAD,OAAUA,EAAO,MAO1B,KAGAxE,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,mBAAmB+E,GAClCrH,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,eAAeiF,QAnB3B,WACNF,EAAUJ,GACZK,EAAW,SAAC9C,GAAD,OAAUA,EAAO,MAiB1B,MAID6C,EACCrH,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,qBAAqBiF,QAAS,kBAAMH,EAAQC,KAA9D,iBAEErH,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CACEC,KAAMC,IACNH,UAAU,mBAIdtC,EAAAC,EAAAC,cAAA,UAAQsH,UAAQ,EAAClF,UAAU,qBAAqBiF,QAAS,kBAAMH,EAAQC,KAAvE,iBAEErH,EAAAC,EAAAC,cAACqC,EAAA,EAAD,CACEC,KAAMC,IACNH,UAAU,qBCIPmF,EA9CI,SAAAlI,GAAc,IAAXe,EAAWf,EAAXe,KAAWb,EACHC,oBAAS,GADNC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GACxBiI,EADwB/H,EAAA,GAChBgI,EADgBhI,EAAA,GAGzBuC,EAAUC,qBAAW/C,GAc3B,OACEY,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6C,SAAA,KACE9C,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,OACZhC,GAAQA,EAAK0C,MACZhD,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,kBACbtC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,WAAWS,IAAKzC,EAAK0C,MAAOC,IAAI,KAC/CjD,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,YACbtC,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,aAAahC,EAAKO,MAChCb,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,YACdtC,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,aAAahC,EAAKsH,MAChC5H,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,YACbtC,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,cAAb,YAAoChC,EAAKwB,OACzC9B,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,cAAchC,EAAKuH,MAAhC,YAEDH,EACC1H,EAAAC,EAAAC,cAAC4H,EAAD,MAEA9H,EAAAC,EAAAC,cAAC6H,EAAD,CAASd,IAAK3G,EAAKuH,MAAOV,QAAS,EAAGC,QA7BpC,SAAC7G,GACV2B,EAAQjB,SAASX,EAAKO,OAKzBqB,EAAQd,OAAOd,EAAKe,GAAId,GACxByH,MAAK,sBAAAtH,OAAiBH,EAAjB,gBAAAG,OAAmCJ,EAAKO,KAAxC,MACL8G,GAAU,KANVA,GAAU,GACVK,MAAK,oBAAAtH,OAAkBH,EAAlB,KAAAG,OAAyBJ,EAAKO,KAA9B,SACLqB,EAAQ7B,QAAQC,EAAMC,SA8BlBP,EAAAC,EAAAC,cAAA,MAAIoC,UAAU,WAAd,kBCnBK2F,EAlBa,WAAM,IAAAxI,EAENC,mBAAS,IAFHC,EAAAC,OAAAC,EAAA,EAAAD,CAAAH,EAAA,GAEvByI,EAFuBvI,EAAA,GAEjBwI,EAFiBxI,EAAA,GAGvB0B,EAAMkF,cAANlF,GAQP,OANAmF,oBAAU,WACNhB,EAAYnE,GACVoF,KAAK,SAACC,GAAD,OAAYyB,EAAQzB,KACzB0B,MAAM,SAAAC,GAAG,OAAIpC,QAAQC,IAAImC,MAC5B,CAAChH,IAGJrB,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6C,SAAA,KACA9C,EAAAC,EAAAC,cAACoI,EAAD,CAAYhI,KAAM4H,uxMCdtB,IAyGeK,EAzGF,WACX,IAAMrG,EAAUC,qBAAW/C,GAC3B6G,QAAQC,IAAIhE,GAkDZ,OACElC,EAAAC,EAAAC,cAAAF,EAAAC,EAAA6C,SAAA,KACE9C,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,oBACbtC,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,mBACZJ,EAAQpC,SAAS2B,IAAI,SAACnB,GAAD,OACpBN,EAAAC,EAAAC,cAAA,OAAK2G,IAAKvG,EAAKe,GAAIiB,UAAU,YAC3BtC,EAAAC,EAAAC,cAAA,OAAK6C,IAAKzC,EAAK0C,MAAOC,IAAI,GAAGX,UAAU,aACvCtC,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,gBACVhC,EAAKC,IADR,IACcD,EAAKO,MAEnBb,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,cAAb,YAAoChC,EAAKwB,MAAzC,QACA9B,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,mBAAb,WACWJ,EAAQH,YAAYzB,EAAKe,KAEpCrB,EAAAC,EAAAC,cAAA,UACEoC,UAAU,cACViF,QAAS,kBAAMrF,EAAQtB,WAAWN,EAAKO,QAFzC,eASHqB,EAAQpC,SAAS6G,OAAS,EACzB3G,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,iBACbtC,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,cAAciF,QAASrF,EAAQlB,OAAjD,SAGAhB,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,kBACbtC,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,eAAb,WAAoCJ,EAAQL,iBAC5C7B,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,YAAYiF,QA9EhC,WACV,IAAIiB,EAActG,EAAQpC,SAAS2B,IAAI,SAACnB,GAAD,MAAW,CAChDe,GAAIf,EAAKe,GACToH,MAAOnI,EAAKO,KACZiB,MAAOI,EAAQH,YAAYzB,EAAKe,IAChCd,IAAKD,EAAKC,OAERmH,EAAS,CACXgB,MAAO,CACL7H,KAAM,eACN8H,MAAO,yBACPC,MAAO,gBAETC,KAAMC,cACNC,MAAOP,GAGTvC,QAAQC,IAAIwB,GAEK,eAAAnI,EAAAK,OAAAkE,EAAA,EAAAlE,CAAAoJ,IAAAhF,KAAG,SAAAC,IAAA,IAAAgF,EAAA,OAAAD,IAAA1E,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cACZwE,EAAWjE,YAAIL,YAAWhB,EAAI,WADlBY,EAAAE,KAAA,EAEZyE,YAAOD,EAAUvB,GAFL,cAAAnD,EAAAW,OAAA,SAGX+D,GAHW,wBAAA1E,EAAAY,SAAAlB,MAAH,yBAAA1E,EAAA8F,MAAAC,KAAAC,YAAA,EAMjB4D,GACG1C,KACC,SAACC,GAAD,OACEsB,MAAK,oDAAAtH,OAEQwB,EAAQL,gBAFhB,sBAAAnB,OAGEgG,EAAOrF,GAHT,QAKPa,EAAQpC,SAASsJ,QAAjB,eAAA3D,EAAA7F,OAAAkE,EAAA,EAAAlE,CAAAoJ,IAAAhF,KAAyB,SAAA0B,EAAOpF,GAAP,IAAA+I,EAAA,OAAAL,IAAA1E,KAAA,SAAAwB,GAAA,cAAAA,EAAAtB,KAAAsB,EAAArB,MAAA,cACjB4E,EAAUrE,YAAIrB,EAAI,YAAarD,EAAKe,IADnByE,EAAArB,KAAA,EAEjB6E,YAAUD,EAAS,CACvBxB,MAAO0B,aAAWjJ,EAAKC,OAHF,OAKvB2B,EAAQlB,QALe,wBAAA8E,EAAAX,SAAAO,MAAzB,gBAAAN,GAAA,OAAAK,EAAAJ,MAAAC,KAAAC,YAAA,KAQD6C,MAAM,SAACC,GAAD,OACLL,MAAK,oDAAAtH,OAEF2H,QAkCK,qBAMJrI,EAAAC,EAAAC,cAAA,OAAKoC,UAAU,UACbtC,EAAAC,EAAAC,cAAA,KAAGoC,UAAU,gBAAb,4CAGAtC,EAAAC,EAAAC,cAACkC,EAAA,EAAD,CAAMC,GAAG,KACPrC,EAAAC,EAAAC,cAAA,UAAQoC,UAAU,eAAlB,sCCxEDkH,EAhBH,WACV,OACExJ,EAAAC,EAAAC,cAACuJ,EAAD,KACAzJ,EAAAC,EAAAC,cAACkC,EAAA,EAAD,KACApC,EAAAC,EAAAC,cAACwJ,EAAD,MACA1J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,KACA3J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOC,KAAK,IAAIC,QAAS7J,EAAAC,EAAAC,cAAC4J,EAAD,QACzB9J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOC,KAAK,sBAAsBC,QAAS7J,EAAAC,EAAAC,cAAC4J,EAAD,QAC3C9J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOC,KAAK,YAAYC,QAAS7J,EAAAC,EAAAC,cAAC6J,EAAD,QACjC/J,EAAAC,EAAAC,cAACyJ,EAAA,EAAD,CAAOC,KAAK,QAAQC,QAAS7J,EAAAC,EAAAC,cAAC8J,EAAD,YCfpBC,IAASC,WAAWC,SAASC,eAAe,SACpDC,OAEDrK,EAAAC,EAAAC,cAACoK,EAAD","file":"static/js/main.051b528a.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport { createContext } from \"react\";\r\n\r\nexport const CartContext = createContext();\r\n\r\nconst CartContextProvider = ({ children }) => {\r\n  const [cartList, setCartList] = useState([]);\r\n\r\n  const addItem = (item, qty) => {\r\n    let itemQty = {\r\n      ...item,\r\n      qty \r\n    }; //Crea un nuevo item que le añade el qty.\r\n\r\n    setCartList([...cartList, itemQty]); //Esto hace que sobrescriba el array con otro array que contenga lo que tenia el array anterior + item\r\n  };\r\n\r\n  const removeItem = (name) => {\r\n    let newArray = cartList.filter((item) => item.name !== name);\r\n    setCartList(newArray);\r\n  };\r\n\r\n  const clear = () => {\r\n    setCartList([]);\r\n  };\r\n\r\n  const isInCart = (name) => {\r\n    let find = cartList.find((item) => {\r\n      return item.name === name;\r\n    });\r\n    return find !== undefined;\r\n  };\r\n\r\n  const sumQty = (id, addedqty) => {\r\n    let product = cartList.find((item) => {\r\n      return item.id === id;\r\n    });\r\n    product.qty = product.qty + addedqty;\r\n    setCartList([...cartList])\r\n  };\r\n\r\n  const calcTotalItems = () => {\r\n    let items = cartList.map((item) => item.qty);\r\n    return items.reduce(\r\n      (previousValue, currentValue) => previousValue + currentValue,\r\n      0\r\n    );\r\n  };\r\n\r\n  const priceTotalAll = () => {\r\n    let totalAll = cartList.map((item) => item.qty * item.price);\r\n    return totalAll.reduce(\r\n      (previousValue, currentValue) => previousValue + currentValue,\r\n      0\r\n    );\r\n  };\r\n\r\n  const singleTotal = (id) => {\r\n    let prod = cartList.find((item) => id === item.id);\r\n    let total = prod.price * prod.qty;\r\n    return total;\r\n  };\r\n\r\n  return (\r\n    // Entre llaves porque value solo puede tener una cosa, con la llave se convierte en objeto y es una sola cosa con varias dentro.\r\n    <CartContext.Provider\r\n      value={{\r\n        cartList,\r\n        addItem,\r\n        removeItem,\r\n        clear,\r\n        isInCart,\r\n        sumQty,\r\n        calcTotalItems,\r\n        priceTotalAll,\r\n        singleTotal,\r\n      }}\r\n    >\r\n      {children}\r\n    </CartContext.Provider>\r\n  );\r\n};\r\n\r\nexport default CartContextProvider;\r\n","import React, { useContext } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartShopping } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"./CartContext\";\r\n\r\nconst CartWidget = () => {\r\n  const Cartctx = useContext(CartContext);\r\n\r\n  return (\r\n    <Link to=\"/cart\">\r\n      <div className=\"NavbarW__div\">\r\n        <FontAwesomeIcon\r\n          icon={faCartShopping}\r\n          className=\"navbarW__cart\"\r\n        ></FontAwesomeIcon>\r\n        <p className=\"navbarW__number\">{Cartctx.calcTotalItems()}</p>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default CartWidget;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faLeaf } from \"@fortawesome/free-solid-svg-icons\";\r\nimport CartWidget from \"./CartWidget\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <header>\r\n        <nav className=\"navbar\">\r\n          <div className=\"navbar__logo\">\r\n            <FontAwesomeIcon\r\n              icon={faLeaf}\r\n              className=\"navbar__leaf\"\r\n            ></FontAwesomeIcon>\r\n             <Link to=\"/\"><h1 className=\"navbar__title\">Natura Shop</h1></Link>\r\n          </div>\r\n          <ul className=\"navbar__ul\">\r\n            <Link to=\"/category/Verdura\"><li>Verduras</li></Link>\r\n            <Link to=\"/category/Fruta\"><li>Frutas</li></Link>\r\n            <Link to=\"/category/Pack\"><li>Packs</li></Link>\r\n          </ul>\r\n          <CartWidget/>\r\n        </nav>\r\n      </header>\r\n    );\r\n}\r\n\r\n//el componente tiene que ser en mayuscula\r\n\r\nexport default Navbar","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst ItemList = ({ item }) => {\r\n  return (\r\n    <>\r\n      <div className=\"card\">\r\n        <img className=\"card__img\" src={item.image} alt=\"\" />\r\n        <p className=\"card__name\">{item.name}</p>\r\n        <hr className=\"card__hr\" />\r\n        <div className=\"card__div\">\r\n          <p>Precio: {item.price}$</p>\r\n          <p className=\"card__category\">{item.categoryId}</p>\r\n        </div>\r\n        <Link to={`/item/${item.id}`}>\r\n          <button className=\"card__btn\">Detalles</button>\r\n        </Link>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemList;\r\n","// Import the functions you need from the SDKs you need\r\nimport { initializeApp } from \"firebase/app\";\r\nimport {\r\n  getFirestore,\r\n  getDocs,\r\n  collection,\r\n  query,\r\n  where,\r\n  doc,\r\n  getDoc\r\n} from \"firebase/firestore\";\r\n\r\n// Your web app's Firebase configuration\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDV9txlEFh6Jk7QzCcNml-AhkYpgg5qHRo\",\r\n  authDomain: \"react-jahnel.firebaseapp.com\",\r\n  projectId: \"react-jahnel\",\r\n  storageBucket: \"react-jahnel.appspot.com\",\r\n  messagingSenderId: \"843731772225\",\r\n  appId: \"1:843731772225:web:ce1d1022ce666a5bf977c0\",\r\n};\r\n\r\n// Initialize Firebase\r\nconst app = initializeApp(firebaseConfig);\r\nexport const db = getFirestore(app);\r\n// db = database\r\n\r\n//promise - Lo que hace es:\r\nexport const firestoreFetch = async (category) => {\r\n  let q;\r\n  if (category) {\r\n    q = query(collection(db, \"productos\"), where(\"categoryId\", \"==\", category)); //Traer docs where categoryId es == a category\r\n  } else {\r\n    q = query(collection(db, \"productos\")); //Traer todos los docs\r\n  }\r\n  const querySnapshot = await getDocs(q); //Consulta los datos que se les asigno a la variable \"q\" anteriormente\r\n  const dataFromFS = querySnapshot.docs.map((doc) => ({\r\n    //Conversion a array de objetos y le introducimos el id ya que por default esta por fuera del objeto.\r\n    id: doc.id,\r\n    ...doc.data(),\r\n  }));\r\n  return dataFromFS;\r\n};\r\n\r\nexport const singleFetch = async (id) => {\r\n  const docRef = doc(db, \"productos\", id);\r\n  const docSnap = await getDoc(docRef);\r\n\r\n  if (docSnap.exists()) {\r\n    let singleData = docSnap.data()\r\n    singleData.id = docSnap.id\r\n    return singleData\r\n  } else {\r\n    // doc.data() will be undefined in this case\r\n    console.log(\"No such document!\");\r\n  }\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport ItemList from \"./ItemList\";\r\nimport { firestoreFetch } from \"../utils/firebaseConfig\";\r\n\r\nconst ItemListContainer = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const { category } = useParams();\r\n\r\n  useEffect(() => {\r\n    setProducts([]);\r\n    firestoreFetch(category).then((result) => setProducts(result));\r\n  }, [category]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {products.length > 0 ? (\r\n        <div className=\"containercards\">\r\n          {products.map((item) => (\r\n            <ItemList key={item.id} item={item} />\r\n          ))}\r\n        </div>\r\n      ) : (\r\n        <h1 className=\"loading\">Cargando...</h1>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemListContainer;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartShopping } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst CheckoutBtn = () => {\r\n  return (\r\n    <Link to=\"/cart\">\r\n      <button className=\"counter__buybutton\">\r\n        Ir al carrito\r\n        <FontAwesomeIcon\r\n          icon={faCartShopping}\r\n          className=\"counter__cart\"\r\n        ></FontAwesomeIcon>\r\n      </button>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default CheckoutBtn;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartShopping } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst Counter = ({ max = 0, initial = 0, whenAdd }) => {\r\n  const [counter, setCounter] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setCounter(initial);\r\n  }, []);\r\n\r\n  const add = () => {\r\n    if (counter < max) {\r\n      setCounter((prev) => prev + 1);\r\n    }\r\n  };\r\n\r\n  const substract = () => {\r\n    if (counter > 0) {\r\n      setCounter((prev) => prev - 1);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"counter\">\r\n        <button className=\"counter__sub\" onClick={substract}>\r\n          -\r\n        </button>\r\n        <div className=\"counter__number\">{counter}</div>\r\n        <button className=\"counter__add\" onClick={add}>\r\n          +\r\n        </button>\r\n      </div>\r\n      {counter ? (\r\n        <button className=\"counter__buybutton\" onClick={() => whenAdd(counter)}>\r\n          ¡Añadir!\r\n          <FontAwesomeIcon\r\n            icon={faCartShopping}\r\n            className=\"counter__cart\"\r\n          ></FontAwesomeIcon>\r\n        </button>\r\n      ) : (\r\n        <button disabled className=\"counter__buybutton\" onClick={() => whenAdd(counter)}>\r\n          ¡Añadir!\r\n          <FontAwesomeIcon\r\n            icon={faCartShopping}\r\n            className=\"counter__cart\"\r\n          ></FontAwesomeIcon>\r\n        </button>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Counter;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { CartContext } from \"./CartContext\";\r\nimport CheckoutBtn from \"./CheckoutBtn\";\r\nimport Counter from \"./Counter\";\r\n\r\nconst ItemDetail = ({ item }) => {\r\n  const [bought, setBought] = useState(false);\r\n\r\n  const Cartctx = useContext(CartContext);\r\n\r\n  const whenAdd = (qty) => {\r\n    if (!Cartctx.isInCart(item.name)) {\r\n      setBought(true);\r\n      alert(`¡Has comprado ${qty} ${item.name}(s)!`);\r\n      Cartctx.addItem(item, qty);\r\n    } else {\r\n      Cartctx.sumQty(item.id, qty);\r\n      alert(`¡Has añadido ${qty} unidades a ${item.name}!`);\r\n      setBought(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"iDC\">\r\n        {item && item.image ? (\r\n          <div className=\"iDC__container\">\r\n            <img className=\"iDC__img\" src={item.image} alt=\"\" />\r\n            <div className=\"iDC__div\">\r\n              <h1 className=\"iDC__name\">{item.name}</h1>\r\n              <hr className=\"iDC__hr\" />\r\n              <h2 className=\"iDC__desc\">{item.desc}</h2>\r\n              <div className=\"iDC__PyS\">\r\n                <p className=\"iDC__price\">Precio: ${item.price}</p>\r\n                <p className=\"iDC__stock\">{item.stock} :Stock</p>\r\n              </div>\r\n              {bought ? (\r\n                <CheckoutBtn />\r\n              ) : (\r\n                <Counter max={item.stock} initial={0} whenAdd={whenAdd} />\r\n              )}\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <h1 className=\"loading\">Cargando...</h1>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ItemDetail;\r\n","import React from \"react\"\r\nimport ItemDetail from \"./ItemDetail\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { useParams } from \"react-router-dom\"\r\nimport { singleFetch } from \"../utils/firebaseConfig\"\r\n\r\n\r\nconst ItemDetailContainer = () => {\r\n\r\n    const [dato, setDato] = useState([])\r\n    const {id} = useParams(); \r\n    \r\n    useEffect(() => {\r\n        singleFetch(id)\r\n         .then((result) => setDato(result))\r\n         .catch(err => console.log(err))\r\n    }, [id]);\r\n\r\n    return (\r\n    <>\r\n    <ItemDetail item={dato}/>\r\n    </>\r\n    )\r\n}\r\n\r\nexport default ItemDetailContainer","import { collection, serverTimestamp, doc, setDoc, updateDoc, increment } from \"firebase/firestore\";\r\nimport React, { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { CartContext } from \"./CartContext\";\r\nimport { db } from \"../utils/firebaseConfig\";\r\n\r\nconst Cart = () => {\r\n  const Cartctx = useContext(CartContext);\r\n  console.log(Cartctx);\r\n\r\n  const buy = () => {\r\n    let itemsBought = Cartctx.cartList.map((item) => ({\r\n      id: item.id,\r\n      title: item.name,\r\n      price: Cartctx.singleTotal(item.id),\r\n      qty: item.qty,\r\n    }));\r\n    let bought = {\r\n      buyer: {\r\n        name: \"Yi Long Musk\",\r\n        email: \"yilongmusk@notmusk.com\",\r\n        phone: \"41 4920-1924\",\r\n      },\r\n      date: serverTimestamp(), //Saca la fecha y tiempo del servidor.\r\n      items: itemsBought,\r\n    };\r\n\r\n    console.log(bought);\r\n\r\n    const createOrder = async () => {\r\n      const newOrder = doc(collection(db, \"orders\")); //Crea la colección\r\n      await setDoc(newOrder, bought); //Crea nuevo documento\r\n      return newOrder;\r\n    };\r\n\r\n    createOrder()\r\n      .then(\r\n        (result) =>\r\n          alert(\r\n            `Tu orden ha sido tomada...\r\n    Con el valor de $${Cartctx.priceTotalAll()}.\r\n    Con el ID \"${result.id}\".`\r\n          ),\r\n        Cartctx.cartList.forEach(async (item) => {\r\n          const itemRef = doc(db, \"productos\", item.id);\r\n          await updateDoc(itemRef, {\r\n            stock: increment(-item.qty),\r\n          });\r\n          Cartctx.clear();\r\n        })\r\n      )\r\n      .catch((err) =>\r\n        alert(` \r\n  No se pudo realizar tu compra... \r\n  Error: ${err}`)\r\n      );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"list__background\">\r\n        <div className=\"list__container\">\r\n          {Cartctx.cartList.map((item) => (\r\n            <div key={item.id} className=\"obj__div\">\r\n              <img src={item.image} alt=\"\" className=\"obj__img\" />\r\n              <p className=\"obj__nameQty\">\r\n                {item.qty} {item.name}\r\n              </p>\r\n              <p className=\"obj__price\">Precio: ${item.price} c/u</p>\r\n              <p className=\"obj__totalPrice\">\r\n                Total: ${Cartctx.singleTotal(item.id)}\r\n              </p>\r\n              <button\r\n                className=\"obj__remove\"\r\n                onClick={() => Cartctx.removeItem(item.name)}\r\n              >\r\n                Eliminar\r\n              </button>\r\n              {/* Se envuelve en funcion anonima porque le pasas parametros. */}\r\n            </div>\r\n          ))}\r\n          {Cartctx.cartList.length > 0 ? (\r\n            <div className=\"list__buttons\">\r\n              <button className=\"list__clear\" onClick={Cartctx.clear}>\r\n                Clear\r\n              </button>\r\n              <div className=\"list__pucharse\">\r\n                <p className=\"list__total\">Total: ${Cartctx.priceTotalAll()}</p>\r\n                <button className=\"list__buy\" onClick={buy}>\r\n                  Realizar compra\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div className=\"noCart\">\r\n              <p className=\"noCart__text\">\r\n                Actualmente no hay nada en el carrito...\r\n              </p>\r\n              <Link to=\"/\">\r\n                <button className=\"noCart__btn\">\r\n                  Volver a la pagina principal\r\n                </button>\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import \"./App.css\";\nimport React from \"react\";\nimport Navbar from \"./components/Navbar.js\";\nimport ItemListContainer from \"./components/ItemListContainer\";\nimport ItemDetailContainer from \"./components/ItemDetailContainer\";\nimport Cart from \"./components/Cart\";\nimport CartContextProvider from \"./components/CartContext\";\nimport { BrowserRouter, Routes, Route } from \"react-router-dom\";\n\n\n\nconst App = () => {\n  return (\n    <CartContextProvider>\n    <BrowserRouter>\n    <Navbar />\n    <Routes>\n    <Route path=\"/\" element={<ItemListContainer/>}/>\n    <Route path=\"/category/:category\" element={<ItemListContainer/>}/>\n    <Route path=\"/item/:id\" element={<ItemDetailContainer/>}/>\n    <Route path=\"/cart\" element={<Cart/>}/>\n    </Routes>\n    </BrowserRouter>\n    </CartContextProvider>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\n\nconst root = ReactDOM.createRoot(document.getElementById('root'));\nroot.render(\n  // <React.StrictMode> Si se descomenta, ItemListContaner.js corre 2 veces.\n    <App />\n  // </React.StrictMode>\n);\n"],"sourceRoot":""}